global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    deployment: systemd

rule_files:
  - "monitoring/alerts/mcp_bus_alerts.yml"

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ['127.0.0.1:9090']

  - job_name: justnews-mcp-bus
    static_configs:
      - targets: ['127.0.0.1:8000']

  - job_name: justnews-crawler
    scrape_interval: 10s
    static_configs:
      - targets: ['127.0.0.1:8015']

  - job_name: justnews-dashboard
    static_configs:
      - targets: ['127.0.0.1:8013']

  - job_name: justnews-agents
    static_configs:
      - targets:
          - '127.0.0.1:8001'  # chief_editor
          - '127.0.0.1:8002'  # scout
          - '127.0.0.1:8003'  # fact_checker
          - '127.0.0.1:8004'  # analyst
          - '127.0.0.1:8005'  # synthesizer
          - '127.0.0.1:8006'  # critic
          - '127.0.0.1:8007'  # memory
          - '127.0.0.1:8008'  # reasoning
          - '127.0.0.1:8012'  # (additional agent port seen in netstat)

  - job_name: justnews-node-exporter
    static_configs:
      - targets: ['127.0.0.1:9100']
    metrics_path: /metrics

