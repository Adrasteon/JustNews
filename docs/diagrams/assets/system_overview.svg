<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="420" viewBox="0 0 1200 420">
  <style>
    .box { fill: #f5f7fa; stroke: #2b6cb0; stroke-width: 2; rx: 6; }
    .small { font: 12px/1.2 'Segoe UI', Roboto, Arial; fill: #1a202c; }
    .title { font: 14px/1.2 'Segoe UI Semibold', Roboto, Arial; fill: #0b3d91; font-weight: 700; }
    .arrow { stroke: #2b6cb0; stroke-width: 2; fill: none; marker-end: url(#arrow); }
  </style>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#2b6cb0" />
    </marker>
  </defs>

  <!-- Crawler &amp; Raw HTML -->
  <rect x="40" y="40" width="180" height="70" class="box" />
  <text x="130" y="65" text-anchor="middle" class="title">Crawler</text>
  <text x="130" y="85" text-anchor="middle" class="small">fetch + raw_html</text>

  <rect x="260" y="40" width="200" height="70" class="box" />
  <text x="360" y="65" text-anchor="middle" class="title">Archive</text>
  <text x="360" y="85" text-anchor="middle" class="small">raw_html snapshot &amp; storage</text>

  <rect x="490" y="40" width="200" height="70" class="box" />
  <text x="590" y="65" text-anchor="middle" class="title">Ingest</text>
  <text x="590" y="85" text-anchor="middle" class="small">normalize → canonical rows</text>

  <rect x="720" y="40" width="200" height="70" class="box" />
  <text x="820" y="65" text-anchor="middle" class="title">Parser / Extract</text>
  <text x="820" y="85" text-anchor="middle" class="small">extract title, authors, body</text>

  <rect x="40" y="150" width="220" height="70" class="box" />
  <text x="150" y="175" text-anchor="middle" class="title">Editorial Harness</text>
  <text x="150" y="195" text-anchor="middle" class="small">agent chain, acceptance metrics</text>

  <rect x="310" y="150" width="220" height="70" class="box" />
  <text x="420" y="175" text-anchor="middle" class="title">Publisher</text>
  <text x="420" y="195" text-anchor="middle" class="small">ingest &amp; render, audits, metrics</text>

  <rect x="590" y="150" width="260" height="70" class="box" />
  <text x="720" y="175" text-anchor="middle" class="title">Consumers / Website / APIs</text>
  <text x="720" y="195" text-anchor="middle" class="small">user-facing content</text>

  <!-- Orchestrator and MCP Bus -->
  <rect x="980" y="40" width="180" height="70" class="box" />
  <text x="1070" y="65" text-anchor="middle" class="title">GPU Orchestrator</text>
  <text x="1070" y="85" text-anchor="middle" class="small">leases, queues, workers</text>

  <rect x="980" y="150" width="180" height="70" class="box" />
  <text x="1070" y="175" text-anchor="middle" class="title">MCP Bus</text>
  <text x="1070" y="195" text-anchor="middle" class="small">agent communication layer</text>

  <!-- arrows -->
  <path d="M220,75 L260,75" class="arrow" />
  <path d="M460,75 L490,75" class="arrow" />
  <path d="M690,75 L720,75" class="arrow" />
  <path d="M740,110 L740,150" class="arrow" />
  <path d="M340,150 L310,150" class="arrow" />
  <path d="M530,150 L590,150" class="arrow" />

  <!-- connectors to orchestrator &amp; MCP -->
  <path d="M885,75 L980,75" class="arrow" />
  <path d="M980,110 L980,150" class="arrow" />

  <!-- small legend -->
  <text x="40" y="260" class="small">Diagram: high-level crawl → publish flow. For deep orchestrator flows see orchestrator_flow.svg</text>

</svg>
