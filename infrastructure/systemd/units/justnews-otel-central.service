[Unit]
Description=JustNews OpenTelemetry Central Collector
Documentation=https://github.com/open-telemetry/opentelemetry-collector
Requires=network-online.target
After=network-online.target

[Service]
Type=simple
User=justnews
Group=justnews
EnvironmentFile=-/etc/justnews/monitoring/otel/central.env
ExecStart=/usr/local/bin/otelcol-contrib \
  --config $OTEL_CENTRAL_CONFIG
Restart=on-failure
RestartSec=5
LimitNOFILE=65535
StateDirectory=justnews-otel-central
WorkingDirectory=/var/lib/justnews-otel-central
LogsDirectory=justnews-otel-central

[Install]
WantedBy=multi-user.target
