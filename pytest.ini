[pytest]
# Keep convenient import shortcuts for local test runs. `tests/conftest.py`
# now injects the repository root onto sys.path, and listing the root and
# `agents` package here keeps IDE-based invocations aligned with the CLI.
pythonpath =
	.
	agents

# Enable live CLI logging so pytest prints logging messages as tests run
# This helps the IDE show live output when tests are executed via the terminal
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(name)s: %(message)s
log_cli_date_format = %H:%M:%S

# Exclude standalone scripts from test discovery
norecursedirs = scripts stored_archive

addopts =
	-p no:warnings

# Use importlib import mode to avoid test module import name collisions when
# test files with identical basenames exist in different directories (e.g.:
# agents/crawler/tests/test_auth.py and tests/agents/test_auth.py).
addopts = --import-mode=importlib -p no:warnings

# Custom markers
markers =
	integration: marks tests as integration tests that require services or heavy deps
	gpu: marks tests that require a CUDA-capable GPU
	slow: marks tests that are slow/heavy and not suitable for default CI
	model_store: marks tests that require a populated Model Store (STRICT_MODEL_STORE)

filterwarnings =
	ignore::DeprecationWarning
	ignore::FutureWarning
